---
name: HTS221
description: Humidity and Temperature Sensor 
category: Device
requires: [RegDevice,Platform]
datasheet: https://www.st.com/content/ccc/resource/technical/document/datasheet/4d/9a/9c/ad/25/07/42/34/DM00116291.pdf/files/DM00116291.pdf/jcr:content/translations/en.DM00116291.pdf
mfg: STMicroelectronics
mfg_pn: HTS221TR
digikey_pn: 497-15382-1-ND

prefix: HTS
bus: I2C
i2c_addr: 0xBE
ai_mask: 0x80

registers:

  - WHO_AM_I:     { addr: 0x0F , type: uint8_t, perm: R, desc:  Id Register, default: 0xBC}                
  - AV_CONF:      { addr: 0x10 , type: uint8_t, perm: RW, desc: Humidity and temperature resolution mode}
  - CTRL1:        { addr: 0x20 , type: uint8_t, perm: RW, desc: Control register 1}
  - CTRL2:        { addr: 0x21 , type: uint8_t, perm: RW, desc: Control register 2}
  - CTRL3:        { addr: 0x22 , type: uint8_t, perm: RW, desc: Control register 3}
  - STATUS:       { addr: 0x27 , type: uint8_t, perm: R, desc: Status register}
  - HUMIDITY_OUT: { addr: 0x28 , type: int16_t, perm: R, desc: Relative humidity data }
  - TEMP_OUT:     { addr: 0x2A , type: int16_t, perm: R, desc: Temperature data}

  - H0_rH_x2:     { addr: 0x30 , type: uint8_t, perm: R }
  - H1_rH_x2:     { addr: 0x31 , type: uint8_t, perm: R }
  - T0_DEGC_x8:   { addr: 0x32 , type: uint8_t, perm: R }
  - T1_DEGC_x8:   { addr: 0x33 , type: uint8_t, perm: R }
  - T1T0_MSB:     { addr: 0x35 , type: uint8_t, perm: R }
  - H0_T0_OUT:    { addr: 0x36 , type: int16_t, perm: R }
  - H1_T0_OUT:    { addr: 0x3A , type: int16_t, perm: R }
  - T0_OUT:       { addr: 0x3C , type: int16_t, perm: R }
  - T1_OUT:       { addr: 0x3E , type: int16_t, perm: R }

values:
    - STATUS:
        flags:
          - TEMP_READY: { mask: 0x01, desc: indicates that a temperature reading is ready }
          - HUM_READY: { mask: 0x02, desc: indicates that a humidity reading is ready }

    - CTRL1:
        fields:
          - ODR:
              mask: 0x07
              vals:
                - ONESHOT: { val: 0, desc: readings must be requested}
                - 1HZ: { val: 1, desc: 1 hz sampling}
                - 7HZ: { val: 2, desc: 7 hz sampling}
                - 12_5HZ: { val: 3, desc: 12.5 hz sampling}

