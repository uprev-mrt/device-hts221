
HTS221
======

- Generated with `MrT Device Utility <https://github.com/uprev-mrt/mrtutils/wiki/mrt-device>`_
- Bus:  I2C
- RegMap: `Register Map <Regmap.html>`_
- Datasheet: `https://www.st.com/conte... <https://www.st.com/content/ccc/resource/technical/document/datasheet/4d/9a/9c/ad/25/07/42/34/DM00116291.pdf/files/DM00116291.pdf/jcr:content/translations/en.DM00116291.pdf>`_
- DigiKey: `497-15382-1-ND <https://www.digikey.com/products/en?KeyWords=497-15382-1-ND>`_
- I2C Address: 0xBE


Description
-----------

Humidity and Temperature Sensor

.. *user-block-description-start*



.. *user-block-description-end*





Register Map
------------

=================     ================     ================     ================     ================     ================
Name                    Address             Type                  Access              Default               Description
=================     ================     ================     ================     ================     ================
WHO_AM_I_              0x0F                 uint8                R                    0xBC                 Id Register          
AV_CONF_               0x10                 uint8                RW                   0x1B                 Humidity and temperature resolution mode
CTRL1_                 0x20                 uint8                RW                   0x00                 Control register 1   
CTRL2_                 0x21                 uint8                RW                   0x00                 Control register 2   
CTRL3_                 0x22                 uint8                RW                   0x00                 Control register 3   
STATUS_                0x27                 uint8                R                    0x00                 Status register      
HUMIDITY_OUT_          0x28                 int16                R                    0x0000               Relative humidity data
TEMP_OUT_              0x2A                 int16                R                    0x0000               Temperature data     
H0_rH_x2_              0x30                 uint8                R                    0x00                 Calibration data     
H1_rH_x2_              0x31                 uint8                R                    0x00                 Calibration data     
T0_DEGC_x8_            0x32                 uint8                R                    0x00                 Calibration data     
T1_DEGC_x8_            0x33                 uint8                R                    0x00                 Calibration data     
T1T0_MSB_              0x35                 uint8                R                    0x00                 Calibration data     
H0_T0_OUT_             0x36                 int16                R                    0x0000               Calibration data     
H1_T0_OUT_             0x3A                 int16                R                    0x0000               Calibration data     
T0_OUT_                0x3C                 int16                R                    0x0000               Calibration data     
T1_OUT_                0x3E                 int16                R                    0x0000               Calibration data     
=================     ================     ================     ================     ================     ================





Registers
=========





----------

.. _WHO_AM_I:

WHO_AM_I
--------

:Address: **[0x0F]**
:Default: **[0xBC]**

Id Register

.. *user-block-who_am_i-start*

.. *user-block-who_am_i-end*

+------------+--------+--------+--------+--------+--------+--------+--------+--------+
|Bit         |7       |6       |5       |4       |3       |2       |1       |0       |
+============+========+========+========+========+========+========+========+========+
| **Field**  |                                                                       |
+------------+-----------------------------------------------------------------------+


Fields
~~~~~~

:WHO_AM_I: Id Register



----------

.. _AV_CONF:

AV_CONF
-------

:Address: **[0x10]**
:Default: **[0x1B]**

Humidity and temperature resolution mode

.. *user-block-av_conf-start*

.. *user-block-av_conf-end*

+------------+----+----+----+----+----+----+----+----+
|Bit         |7   |6   |5   |4   |3   |2   |1   |0   |
+============+====+====+====+====+====+====+====+====+
| **Field**  |    |AVGT          |AVGH               |
+------------+----+--------------+-------------------+


Fields
~~~~~~

:AVGH: Selects the number of Humidity samples to average for data output

=====================     ================     ================================================================
Name                       Value               Descriptions
=====================     ================     ================================================================
4                           b000                    4 samples
8                           b001                    8 samples
16                          b010                    16 samples
32                          b011                    32 samples
64                          b100                    64 samples
128                         b101                    128 samples
256                         b110                    256 samples
512                         b111                    512 samples
=====================     ================     ================================================================



:AVGT: Selects the number of Temperature samples to average for data output

=====================     ================     ================================================================
Name                       Value               Descriptions
=====================     ================     ================================================================
2                           b000                    2 samples
4                           b001                    4 samples
8                           b010                    8 samples
16                          b011                    16 samples
32                          b100                    32 samples
64                          b101                    64 samples
128                         b110                    128 samples
256                         b111                    256 samples
=====================     ================     ================================================================




----------

.. _CTRL1:

CTRL1
-----

:Address: **[0x20]**
:Default: **[0x00]**

Control register 1

.. *user-block-ctrl1-start*

.. *user-block-ctrl1-end*

+------------+---+---+---+---+---+---+---+---+
|Bit         |7  |6  |5  |4  |3  |2  |1  |0  |
+============+===+===+===+===+===+===+===+===+
| **Field**  |               |BDU|ODR        |
+------------+---------------+---+-----------+

Flags
~~~~~

:PD: power down mode
:BDU: Block Data update. Prevents update until LSB of data is read

Fields
~~~~~~

:ODR: Selects the Output rate for the sensor data

=====================     ================     ================================================================
Name                       Value               Descriptions
=====================     ================     ================================================================
ONESHOT                     b00                     readings must be requested
1HZ                         b01                     1 hz sampling
7HZ                         b10                     7 hz sampling
12_5HZ                      b11                     12.5 hz sampling
=====================     ================     ================================================================




----------

.. _CTRL2:

CTRL2
-----

:Address: **[0x21]**
:Default: **[0x00]**

Control register 2

.. *user-block-ctrl2-start*

.. *user-block-ctrl2-end*

+------------+-------+-------+-------+-------+-------+-------+-------+-------+
|Bit         |7      |6      |5      |4      |3      |2      |1      |0      |
+============+=======+=======+=======+=======+=======+=======+=======+=======+
| **Field**  |                                       |HEATER |ONESHOT        |
+------------+---------------------------------------+-------+---------------+

Flags
~~~~~

:BOOT: Reboot memory content
:HEATER: Enable intenal heating element
:ONESHOT: Start conversion for new data



----------

.. _CTRL3:

CTRL3
-----

:Address: **[0x22]**
:Default: **[0x00]**

Control register 3

.. *user-block-ctrl3-start*

.. *user-block-ctrl3-end*

+------------+-----+-----+-----+-----+-----+-----+-----+-----+
|Bit         |7    |6    |5    |4    |3    |2    |1    |0    |
+============+=====+=====+=====+=====+=====+=====+=====+=====+
| **Field**  |                                               |
+------------+-----------------------------------------------+


Fields
~~~~~~

:CTRL3: Control register 3



----------

.. _STATUS:

STATUS
------

:Address: **[0x27]**
:Default: **[0x00]**

Status register

.. *user-block-status-start*

.. *user-block-status-end*

+------------+----------+----------+----------+----------+----------+----------+----------+----------+
|Bit         |7         |6         |5         |4         |3         |2         |1         |0         |
+============+==========+==========+==========+==========+==========+==========+==========+==========+
| **Field**  |                                                      |HUM_READY |TEMP_READY           |
+------------+------------------------------------------------------+----------+---------------------+

Flags
~~~~~

:TEMP_READY: indicates that a temperature reading is ready
:HUM_READY: indicates that a humidity reading is ready



----------

.. _HUMIDITY_OUT:

HUMIDITY_OUT
------------

:Address: **[0x28]**

Relative humidity data

.. *user-block-humidity_out-start*

.. *user-block-humidity_out-end*

+------------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+
|Bit         |15     |14     |13     |12     |11     |10     |9      |8      |7      |6      |5      |4      |3      |2      |1      |0      |
+============+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+=======+
| **Field**  |                                                                                                                               |
+------------+-------------------------------------------------------------------------------------------------------------------------------+


Fields
~~~~~~

:HUM_OUT: Current ADC reading for humidity sensor



----------

.. _TEMP_OUT:

TEMP_OUT
--------

:Address: **[0x2A]**

Temperature data

.. *user-block-temp_out-start*

.. *user-block-temp_out-end*

+------------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+
|Bit         |15      |14      |13      |12      |11      |10      |9       |8       |7       |6       |5       |4       |3       |2       |1       |0       |
+============+========+========+========+========+========+========+========+========+========+========+========+========+========+========+========+========+
| **Field**  |                                                                                                                                               |
+------------+-----------------------------------------------------------------------------------------------------------------------------------------------+


Fields
~~~~~~

:TEMP_OUT: Current ADC reading for temperature sensor



----------

.. _H0_rH_x2:

H0_rH_x2
--------

:Address: **[0x30]**

Calibration data

.. *user-block-h0_rh_x2-start*

.. *user-block-h0_rh_x2-end*

+------------+--------+--------+--------+--------+--------+--------+--------+--------+
|Bit         |7       |6       |5       |4       |3       |2       |1       |0       |
+============+========+========+========+========+========+========+========+========+
| **Field**  |H0_rH_x2                                                               |
+------------+-----------------------------------------------------------------------+




----------

.. _H1_rH_x2:

H1_rH_x2
--------

:Address: **[0x31]**

Calibration data

.. *user-block-h1_rh_x2-start*

.. *user-block-h1_rh_x2-end*

+------------+--------+--------+--------+--------+--------+--------+--------+--------+
|Bit         |7       |6       |5       |4       |3       |2       |1       |0       |
+============+========+========+========+========+========+========+========+========+
| **Field**  |H1_rH_x2                                                               |
+------------+-----------------------------------------------------------------------+




----------

.. _T0_DEGC_x8:

T0_DEGC_x8
----------

:Address: **[0x32]**

Calibration data

.. *user-block-t0_degc_x8-start*

.. *user-block-t0_degc_x8-end*

+------------+----------+----------+----------+----------+----------+----------+----------+----------+
|Bit         |7         |6         |5         |4         |3         |2         |1         |0         |
+============+==========+==========+==========+==========+==========+==========+==========+==========+
| **Field**  |T0_DEGC_x8                                                                             |
+------------+---------------------------------------------------------------------------------------+




----------

.. _T1_DEGC_x8:

T1_DEGC_x8
----------

:Address: **[0x33]**

Calibration data

.. *user-block-t1_degc_x8-start*

.. *user-block-t1_degc_x8-end*

+------------+----------+----------+----------+----------+----------+----------+----------+----------+
|Bit         |7         |6         |5         |4         |3         |2         |1         |0         |
+============+==========+==========+==========+==========+==========+==========+==========+==========+
| **Field**  |T1_DEGC_x8                                                                             |
+------------+---------------------------------------------------------------------------------------+




----------

.. _T1T0_MSB:

T1T0_MSB
--------

:Address: **[0x35]**

Calibration data

.. *user-block-t1t0_msb-start*

.. *user-block-t1t0_msb-end*

+------------+--------+--------+--------+--------+--------+--------+--------+--------+
|Bit         |7       |6       |5       |4       |3       |2       |1       |0       |
+============+========+========+========+========+========+========+========+========+
| **Field**  |T1T0_MSB                                                               |
+------------+-----------------------------------------------------------------------+




----------

.. _H0_T0_OUT:

H0_T0_OUT
---------

:Address: **[0x36]**

Calibration data

.. *user-block-h0_t0_out-start*

.. *user-block-h0_t0_out-end*

+------------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
|Bit         |15       |14       |13       |12       |11       |10       |9        |8        |7        |6        |5        |4        |3        |2        |1        |0        |
+============+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+
| **Field**  |H0_T0_OUT                                                                                                                                                      |
+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+




----------

.. _H1_T0_OUT:

H1_T0_OUT
---------

:Address: **[0x3A]**

Calibration data

.. *user-block-h1_t0_out-start*

.. *user-block-h1_t0_out-end*

+------------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------+
|Bit         |15       |14       |13       |12       |11       |10       |9        |8        |7        |6        |5        |4        |3        |2        |1        |0        |
+============+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+=========+
| **Field**  |H1_T0_OUT                                                                                                                                                      |
+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------+




----------

.. _T0_OUT:

T0_OUT
------

:Address: **[0x3C]**

Calibration data

.. *user-block-t0_out-start*

.. *user-block-t0_out-end*

+------------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+
|Bit         |15    |14    |13    |12    |11    |10    |9     |8     |7     |6     |5     |4     |3     |2     |1     |0     |
+============+======+======+======+======+======+======+======+======+======+======+======+======+======+======+======+======+
| **Field**  |T0_OUT                                                                                                         |
+------------+---------------------------------------------------------------------------------------------------------------+




----------

.. _T1_OUT:

T1_OUT
------

:Address: **[0x3E]**

Calibration data

.. *user-block-t1_out-start*

.. *user-block-t1_out-end*

+------------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+------+
|Bit         |15    |14    |13    |12    |11    |10    |9     |8     |7     |6     |5     |4     |3     |2     |1     |0     |
+============+======+======+======+======+======+======+======+======+======+======+======+======+======+======+======+======+
| **Field**  |T1_OUT                                                                                                         |
+------------+---------------------------------------------------------------------------------------------------------------+


